{{ define "title" }}{{ t "edit_product" }}: {{ .Product.Name }}{{ end }} {{
define "content" }}
<div class="max-w-2xl mx-auto">
  <div class="mb-6">
    <a href="/products/{{ .Product.ID }}" class="btn btn-ghost btn-sm mb-2"
      >← {{ t "back_to_product" }}</a
    >
    <h1 class="text-2xl font-bold">{{ t "edit_product" }}</h1>
  </div>

  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <form
        action="/products/{{ .Product.ID }}"
        method="POST"
        class="space-y-4"
      >
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="form-control w-full">
            <label class="label"
              ><span class="label-text">{{ t "product_name" }}</span></label
            >
            <input
              type="text"
              name="name"
              value="{{ .Product.Name }}"
              class="input input-bordered w-full"
              required
            />
            {{ if .Errors.name }}<label class="label"
              ><span class="label-text-alt text-error"
                >{{ .Errors.name }}</span
              ></label
            >{{ end }}
          </div>
          <div class="form-control w-full">
            <label class="label"
              ><span class="label-text"
                >{{ t "code" }} ({{ t "immutable" }})</span
              ></label
            >
            <input
              type="text"
              value="{{ .Product.Code }}"
              class="input input-bordered w-full opacity-50"
              disabled
            />
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="form-control w-full">
            <label class="label"
              ><span class="label-text">{{ t "category" }}</span></label
            >
            <input
              type="text"
              name="category"
              value="{{ .Product.Category }}"
              class="input input-bordered w-full"
            />
          </div>
          <div class="form-control w-full">
            <label class="label"
              ><span class="label-text">{{ t "unit" }}</span></label
            >
            <input
              type="text"
              name="unit"
              value="{{ .Product.Unit }}"
              placeholder="ex: unit, hour, day"
              class="input input-bordered w-full"
              required
            />
          </div>
        </div>

        <div class="form-control w-full">
          <label class="label"
            ><span class="label-text">{{ t "description" }}</span></label
          >
          <textarea name="description" class="textarea textarea-bordered h-24">
{{ .Product.Description }}</textarea
          >
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="form-control w-full">
            <label class="label"
              ><span class="label-text">{{ t "unit_price" }} (€)</span></label
            >
            <input
              type="number"
              step="0.01"
              name="unit_price"
              value="{{ .Product.UnitPrice }}"
              class="input input-bordered w-full"
              required
            />
          </div>
          <div class="form-control w-full">
            <label class="label"
              ><span class="label-text">{{ t "vat_rate" }} (%)</span></label
            >
            <input
              type="number"
              step="0.1"
              name="vat_rate"
              value="{{ mul .Product.VATRate 100 }}"
              class="input input-bordered w-full"
              required
            />
          </div>
        </div>

        <div class="form-control">
          <label class="label cursor-pointer justify-start gap-4">
            <input
              type="checkbox"
              name="is_active"
              class="checkbox checkbox-primary"
              {{
              if
              .Product.IsActive
              }}checked{{
              end
              }}
            />
            <span class="label-text">{{ t "active" }}</span>
          </label>
        </div>

        <div class="card-actions justify-end mt-6">
          <a href="/products/{{ .Product.ID }}" class="btn btn-ghost"
            >{{ t "cancel" }}</a
          >
          <button type="submit" class="btn btn-primary">
            {{ t "save_changes" }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
{{ end }}
